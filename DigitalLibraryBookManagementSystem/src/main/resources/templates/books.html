<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Books List</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/books-list.css}">
</head>
<body>

    <div id="container">
        <h2>Books List</h2>
        <p>Developed by SaiManikanta<p>
        <!-- Shows error message if search fails -->
        <p id="error-message" th:if="${error}">[[${error}]]</p>

        <!-- Search Form -->
        <form id="search-form" th:action="@{/books/search/title}" method="get">
            <label for="search-title">Search by Title:</label>
            <input id="search-title" type="text" name="title" required>
            <button type="submit">Search</button>
        </form>

        <a id="add-book-link" href="/books/add">Add New Book</a>

        <!-- Display Books -->
        <table id="books-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Title</th>
                    <th>Author</th>
                    <th>Genre</th>
                    <th>Availability</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="book : ${books}">
                    <td th:text="${book.bookId}"></td>
                    <td th:text="${book.bookTitle}"></td>
                    <td th:text="${book.bookAuthor}"></td>
                    <td th:text="${book.bookGenre}"></td>
                    <td th:text="${book.bookAvailabilityStatus}"></td>
                    <td>
                        <a class="edit-btn" th:href="@{/books/edit/{id}(id=${book.bookId})}"> Edit</a> |
                        <a class="delete-btn" th:href="@{/books/delete/{id}(id=${book.bookId})}">Delete</a>
                    </td>
                </tr>
            </tbody>
        </table>

        <a id="back-home" href="/">Back to Home</a>
    </div>
</body>
</html>
